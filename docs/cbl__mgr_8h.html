<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5X74N6G74T"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-5X74N6G74T');
</script>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANopen (FD) Bootloader Protocol Stack | cbl_mgr.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
   DoxygenAwesomeDarkModeToggle.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mc-awesome.css" rel="stylesheet" type="text/css"/>
<link href="mc-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="mc-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">CANopen (FD) Bootloader Documentation</div>
   <div id="projectnumber">Version 4.08.00</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('cbl__mgr_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">cbl_mgr.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module holds all functions for the initialisation and control of the CANopen Bootloader. Some functions of this module need to be adopted to the target platform: </p><ul>
<li><a class="el" href="cbl__mgr_8h.html#ac0d6fb2fc87b470d44280c60f12ccd8f">CblMgrEventBusOff()</a> </li>
<li><a class="el" href="cbl__mgr_8h.html#ab725ac05ced137c741167fbfae4af0e3">CblMgrGetBitrate()</a> </li>
<li><a class="el" href="cbl__mgr_8h.html#aeafbd8fc3d74f192ff862e9dd3da1478">CblMgrGetNodeId()</a> </li>
<li><a class="el" href="cbl__mgr_8h.html#a5dfcf93d3864cae7fb2aad8687dc4b84">CblMgrGetSerialNumber()</a></li>
</ul>
<p>These functions are located in the <code>cbl_user.c</code> file. </p>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for cbl_mgr.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="cbl__mgr_8h__incl.png" border="0" usemap="#acbl__mgr_8h" alt=""/></div>
<map name="acbl__mgr_8h" id="acbl__mgr_8h">
<area shape="rect" title="CANopen Bootloader Management Functions ." alt="" coords="127,5,206,31"/>
<area shape="rect" href="cbl__defs_8h.html" title="CANopen Bootloader definitions ." alt="" coords="125,79,208,104"/>
<area shape="rect" href="cp__core_8h.html" title="CANpie core functions ." alt="" coords="14,152,93,177"/>
<area shape="rect" href="cp__msg_8h.html" title="CANpie message access" alt="" coords="102,225,181,251"/>
<area shape="rect" href="canopen_8h.html" title="General CANopen definitions ." alt="" coords="205,225,288,251"/>
<area shape="rect" href="cbl__conf_8h.html" title="CANopen Bootloader configuration ." alt="" coords="229,152,312,177"/>
<area shape="rect" href="cp__fifo_8h.html" title="CANpie FIFO functions ." alt="" coords="5,225,77,251"/>
<area shape="rect" href="canpie_8h.html" title="CANpie constants, structures and enumerations" alt="" coords="94,299,165,324"/>
<area shape="rect" href="mc__compiler_8h.html" title="Definition of compiler independent data types ." alt="" coords="193,372,300,397"/>
<area shape="rect" title=" " alt="" coords="68,372,169,397"/>
<area shape="rect" title=" " alt="" coords="53,445,185,471"/>
<area shape="rect" title=" " alt="" coords="209,445,284,471"/>
<area shape="rect" title=" " alt="" coords="309,445,374,471"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae90447d48ead6e3826aa66905b52e4e0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#ae90447d48ead6e3826aa66905b52e4e0">CblFlashStatus_e</a> { <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#ae90447d48ead6e3826aa66905b52e4e0acd2d6d9d69727113d77900486bbd06de">eCBL_FLASH_STATUS_OK</a> = 0
, <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#ae90447d48ead6e3826aa66905b52e4e0addb624cb27e10c8a9dad093ff3050848">eCBL_FLASH_STATUS_PROGRESS</a> = 1
<br />
 }</td></tr>
<tr class="separator:ae90447d48ead6e3826aa66905b52e4e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9636a1b12abd1c8a0ed8b0e9e5455f17"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#a9636a1b12abd1c8a0ed8b0e9e5455f17">CblFlashFail_e</a> { <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#a9636a1b12abd1c8a0ed8b0e9e5455f17a3f473604df18dd62aa9a2bc059321113">eCBL_FLASH_FAIL_NO_PROGRAM</a> = 1
, <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#a9636a1b12abd1c8a0ed8b0e9e5455f17a41b6240f09bc17bead2b0a7b0afcfbba">eCBL_FLASH_FAIL_FORMAT_UNKOWN</a>
, <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#a9636a1b12abd1c8a0ed8b0e9e5455f17aa70aca20e89d502bb2cea4858682ef68">eCBL_FLASH_FAIL_FORMAT_CRC</a>
, <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#a9636a1b12abd1c8a0ed8b0e9e5455f17afd467a06fa1b1c63fbf44b17b79767cb">eCBL_FLASH_FAIL_NOT_CLEARED</a>
, <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#a9636a1b12abd1c8a0ed8b0e9e5455f17a8a60b73c539aae2a98a9ba4f2198dfe1">eCBL_FLASH_FAIL_WRITE_ERROR</a>
, <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#a9636a1b12abd1c8a0ed8b0e9e5455f17af72ffa7a6a40c2c7f53e0f03943bffd4">eCBL_FLASH_FAIL_ADDRESS_ERROR</a>
, <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#a9636a1b12abd1c8a0ed8b0e9e5455f17a45e54c25ee332b3d3c87f5d4ab573cd5">eCBL_FLASH_FAIL_SECURED</a>
<br />
 }</td></tr>
<tr class="separator:a9636a1b12abd1c8a0ed8b0e9e5455f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba20f7b72e9b926775e4c3335d7221a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#a7ba20f7b72e9b926775e4c3335d7221a">CblProgControl_e</a> { <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#a7ba20f7b72e9b926775e4c3335d7221aa860fa04c2ff049a0deab17cbbbf487ee">eCBL_PROG_CONTROL_STOP</a> = 0
, <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#a7ba20f7b72e9b926775e4c3335d7221aac13d6c72d866c14b2f2dbfa8e4718914">eCBL_PROG_CONTROL_START</a>
, <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#a7ba20f7b72e9b926775e4c3335d7221aa3410f1daa55bd41b2705e43a2fb69866">eCBL_PROG_CONTROL_RESET</a>
, <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#a7ba20f7b72e9b926775e4c3335d7221aa07f609ec500590600cf5a55e0cc5f7b2">eCBL_PROG_CONTROL_CLEAR</a>
, <br />
&#160;&#160;<a class="el" href="cbl__mgr_8h.html#a7ba20f7b72e9b926775e4c3335d7221aa80268583c07a5f7bb7be2107df2a89ce">eCBL_PROG_CONTROL_MANUFACTURER</a> = 0x80
<br />
 }</td></tr>
<tr class="separator:a7ba20f7b72e9b926775e4c3335d7221a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3a1ccacea0a540760029d71796c0efa6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#a3a1ccacea0a540760029d71796c0efa6">CblMgrBufferCrc</a> (uint8_t *pubMemStartV, uint32_t ulSizeV)</td></tr>
<tr class="separator:a3a1ccacea0a540760029d71796c0efa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4beb62dc5018b06f558366cd4f418608"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#a4beb62dc5018b06f558366cd4f418608">CblMgrBufferStore</a> (uint8_t ubProgNumV, uint8_t *pubBufferV, uint16_t uwSizeV)</td></tr>
<tr class="separator:a4beb62dc5018b06f558366cd4f418608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0d6fb2fc87b470d44280c60f12ccd8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#ac0d6fb2fc87b470d44280c60f12ccd8f">CblMgrEventBusOff</a> (void)</td></tr>
<tr class="separator:ac0d6fb2fc87b470d44280c60f12ccd8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae133836790fed6fedd7ee07294b849a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#aae133836790fed6fedd7ee07294b849a">CblMgrEventProgControl</a> (uint8_t ubProgNumV, uint8_t ubProgControlV)</td></tr>
<tr class="separator:aae133836790fed6fedd7ee07294b849a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9c927845b9e63bda4e267f311b54460"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#ab9c927845b9e63bda4e267f311b54460">CblMgrFlashDelete</a> (uint8_t ubProgNumV)</td></tr>
<tr class="separator:ab9c927845b9e63bda4e267f311b54460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5274f1da62f4601141b4fa924383aa5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#a5274f1da62f4601141b4fa924383aa5c">CblMgrFlashFinalize</a> (uint8_t ubProgNumV, uint32_t ulSizeV)</td></tr>
<tr class="separator:a5274f1da62f4601141b4fa924383aa5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab725ac05ced137c741167fbfae4af0e3"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#ab725ac05ced137c741167fbfae4af0e3">CblMgrGetBitrate</a> (void)</td></tr>
<tr class="separator:ab725ac05ced137c741167fbfae4af0e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeafbd8fc3d74f192ff862e9dd3da1478"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#aeafbd8fc3d74f192ff862e9dd3da1478">CblMgrGetNodeId</a> (void)</td></tr>
<tr class="separator:aeafbd8fc3d74f192ff862e9dd3da1478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dfcf93d3864cae7fb2aad8687dc4b84"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#a5dfcf93d3864cae7fb2aad8687dc4b84">CblMgrGetSerialNumber</a> (void)</td></tr>
<tr class="separator:a5dfcf93d3864cae7fb2aad8687dc4b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a967ae5e24c6d4b2679ed83f0d8f2ebf0"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#a967ae5e24c6d4b2679ed83f0d8f2ebf0">CblMgrInit</a> (uint8_t ubCanIfV, uint16_t uwConfigV)</td></tr>
<tr class="separator:a967ae5e24c6d4b2679ed83f0d8f2ebf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84282b2fa521a3d9898154970161f689"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#a84282b2fa521a3d9898154970161f689">CblMgrProcess</a> (void)</td></tr>
<tr class="separator:a84282b2fa521a3d9898154970161f689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a663ba6c1c37f87873c2415d21e2f0d5c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#a663ba6c1c37f87873c2415d21e2f0d5c">CblMgrRelease</a> (void)</td></tr>
<tr class="separator:a663ba6c1c37f87873c2415d21e2f0d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e4e554e794bfa1342494e22ae4fcd14"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbl__mgr_8h.html#a5e4e554e794bfa1342494e22ae4fcd14">CblMgrStart</a> (uint8_t ubBitrateSelV, uint8_t ubNodeIdV)</td></tr>
<tr class="separator:a5e4e554e794bfa1342494e22ae4fcd14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a9636a1b12abd1c8a0ed8b0e9e5455f17" name="a9636a1b12abd1c8a0ed8b0e9e5455f17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9636a1b12abd1c8a0ed8b0e9e5455f17">&#9670;&#160;</a></span>CblFlashFail_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cbl__mgr_8h.html#a9636a1b12abd1c8a0ed8b0e9e5455f17">CblFlashFail_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flash failure information. </p>
<p>This enumeration holds the flash failure information (index 1F57h) after programming. The information is coded in bit 1 to 7 of the object. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9636a1b12abd1c8a0ed8b0e9e5455f17a3f473604df18dd62aa9a2bc059321113" name="a9636a1b12abd1c8a0ed8b0e9e5455f17a3f473604df18dd62aa9a2bc059321113"></a>eCBL_FLASH_FAIL_NO_PROGRAM&#160;</td><td class="fielddoc"><p>No valid program available. <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a9636a1b12abd1c8a0ed8b0e9e5455f17a41b6240f09bc17bead2b0a7b0afcfbba" name="a9636a1b12abd1c8a0ed8b0e9e5455f17a41b6240f09bc17bead2b0a7b0afcfbba"></a>eCBL_FLASH_FAIL_FORMAT_UNKOWN&#160;</td><td class="fielddoc"><p>Data format unknown <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a9636a1b12abd1c8a0ed8b0e9e5455f17aa70aca20e89d502bb2cea4858682ef68" name="a9636a1b12abd1c8a0ed8b0e9e5455f17aa70aca20e89d502bb2cea4858682ef68"></a>eCBL_FLASH_FAIL_FORMAT_CRC&#160;</td><td class="fielddoc"><p>Data format error or data CRC error <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a9636a1b12abd1c8a0ed8b0e9e5455f17afd467a06fa1b1c63fbf44b17b79767cb" name="a9636a1b12abd1c8a0ed8b0e9e5455f17afd467a06fa1b1c63fbf44b17b79767cb"></a>eCBL_FLASH_FAIL_NOT_CLEARED&#160;</td><td class="fielddoc"><p>Flash not cleared before write <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a9636a1b12abd1c8a0ed8b0e9e5455f17a8a60b73c539aae2a98a9ba4f2198dfe1" name="a9636a1b12abd1c8a0ed8b0e9e5455f17a8a60b73c539aae2a98a9ba4f2198dfe1"></a>eCBL_FLASH_FAIL_WRITE_ERROR&#160;</td><td class="fielddoc"><p>Flash write error <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a9636a1b12abd1c8a0ed8b0e9e5455f17af72ffa7a6a40c2c7f53e0f03943bffd4" name="a9636a1b12abd1c8a0ed8b0e9e5455f17af72ffa7a6a40c2c7f53e0f03943bffd4"></a>eCBL_FLASH_FAIL_ADDRESS_ERROR&#160;</td><td class="fielddoc"><p>General address error <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a9636a1b12abd1c8a0ed8b0e9e5455f17a45e54c25ee332b3d3c87f5d4ab573cd5" name="a9636a1b12abd1c8a0ed8b0e9e5455f17a45e54c25ee332b3d3c87f5d4ab573cd5"></a>eCBL_FLASH_FAIL_SECURED&#160;</td><td class="fielddoc"><p>Flash secured (write access forbidden) <br  />
 </p>
</td></tr>
</table>

</div>
</div>
<a id="ae90447d48ead6e3826aa66905b52e4e0" name="ae90447d48ead6e3826aa66905b52e4e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae90447d48ead6e3826aa66905b52e4e0">&#9670;&#160;</a></span>CblFlashStatus_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cbl__mgr_8h.html#ae90447d48ead6e3826aa66905b52e4e0">CblFlashStatus_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flash status information. </p>
<p>This enumeration holds the flash status information (index 1F57h) during programming. The information is coded in bit 0 of the object. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae90447d48ead6e3826aa66905b52e4e0acd2d6d9d69727113d77900486bbd06de" name="ae90447d48ead6e3826aa66905b52e4e0acd2d6d9d69727113d77900486bbd06de"></a>eCBL_FLASH_STATUS_OK&#160;</td><td class="fielddoc"><p>Flash status OK <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="ae90447d48ead6e3826aa66905b52e4e0addb624cb27e10c8a9dad093ff3050848" name="ae90447d48ead6e3826aa66905b52e4e0addb624cb27e10c8a9dad093ff3050848"></a>eCBL_FLASH_STATUS_PROGRESS&#160;</td><td class="fielddoc"><p>Programming in progress <br  />
 </p>
</td></tr>
</table>

</div>
</div>
<a id="a7ba20f7b72e9b926775e4c3335d7221a" name="a7ba20f7b72e9b926775e4c3335d7221a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba20f7b72e9b926775e4c3335d7221a">&#9670;&#160;</a></span>CblProgControl_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cbl__mgr_8h.html#a7ba20f7b72e9b926775e4c3335d7221a">CblProgControl_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Program control. </p>
<p>This enumeration holds the program control values for index 1F51h. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7ba20f7b72e9b926775e4c3335d7221aa860fa04c2ff049a0deab17cbbbf487ee" name="a7ba20f7b72e9b926775e4c3335d7221aa860fa04c2ff049a0deab17cbbbf487ee"></a>eCBL_PROG_CONTROL_STOP&#160;</td><td class="fielddoc"><p>Stop program <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a7ba20f7b72e9b926775e4c3335d7221aac13d6c72d866c14b2f2dbfa8e4718914" name="a7ba20f7b72e9b926775e4c3335d7221aac13d6c72d866c14b2f2dbfa8e4718914"></a>eCBL_PROG_CONTROL_START&#160;</td><td class="fielddoc"><p>Start program <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a7ba20f7b72e9b926775e4c3335d7221aa3410f1daa55bd41b2705e43a2fb69866" name="a7ba20f7b72e9b926775e4c3335d7221aa3410f1daa55bd41b2705e43a2fb69866"></a>eCBL_PROG_CONTROL_RESET&#160;</td><td class="fielddoc"><p>Reset program <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a7ba20f7b72e9b926775e4c3335d7221aa07f609ec500590600cf5a55e0cc5f7b2" name="a7ba20f7b72e9b926775e4c3335d7221aa07f609ec500590600cf5a55e0cc5f7b2"></a>eCBL_PROG_CONTROL_CLEAR&#160;</td><td class="fielddoc"><p>Clear program <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a7ba20f7b72e9b926775e4c3335d7221aa80268583c07a5f7bb7be2107df2a89ce" name="a7ba20f7b72e9b926775e4c3335d7221aa80268583c07a5f7bb7be2107df2a89ce"></a>eCBL_PROG_CONTROL_MANUFACTURER&#160;</td><td class="fielddoc"><p>Manufacturer specific operation <br  />
 </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3a1ccacea0a540760029d71796c0efa6" name="a3a1ccacea0a540760029d71796c0efa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a1ccacea0a540760029d71796c0efa6">&#9670;&#160;</a></span>CblMgrBufferCrc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CblMgrBufferCrc </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pubMemStartV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ulSizeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pubMemStartV</td><td>Pointer to beginning of memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulSizeV</td><td>Number of bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CRC value</dd></dl>
<p>This function calculates the CRC-32 value of the memory starting at <em>pubMemStartV</em> with a size of <em>ulSizeV</em> bytes. The algorithm is explained at <a href="http://de.wikipedia.org/wiki/CRC32">http://de.wikipedia.org/wiki/CRC32</a> . </p>

</div>
</div>
<a id="a4beb62dc5018b06f558366cd4f418608" name="a4beb62dc5018b06f558366cd4f418608"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4beb62dc5018b06f558366cd4f418608">&#9670;&#160;</a></span>CblMgrBufferStore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CblMgrBufferStore </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubProgNumV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pubBufferV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>uwSizeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubProgNumV</td><td>Program number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pubBufferV</td><td>Pointer to data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uwSizeV</td><td>Number of bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Adopt this function to the application, a sample implementation is located in the file <code>cbl_user.c</code>. Also refer to the <a class="el" href="cbl_flash_programming.html">Flash Programming</a> section for details.</dd></dl>
<p>This function stores the transferred data from the RAM buffer into the Flash memory. The pointer <em>pubBufferV</em> denotes the beginning of the RAM buffer. The parameter <em>uwSizeV</em> defines the number of bytes to be stored. </p>
<p>The parameter <em>ubProgNumV</em> denotes the program number, the start value of the program number is 0. The value corresponds to the sub-index of object 1F50<sub>h</sub>, i.e. sub-index 1 is program number 0. </p>

</div>
</div>
<a id="ac0d6fb2fc87b470d44280c60f12ccd8f" name="ac0d6fb2fc87b470d44280c60f12ccd8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0d6fb2fc87b470d44280c60f12ccd8f">&#9670;&#160;</a></span>CblMgrEventBusOff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CblMgrEventBusOff </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>Adopt this function to the application, a sample implementation is located in the file <code>cbl_user.c</code>.</dd></dl>
<p>This function is called upon a CAN bus-off condition. The reaction on a bus-off condition is application specific. </p>
<p>A sample implementation is located in the file <code>cbl_user.c</code>  </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="cbl__mgr_8h.html#ac0d6fb2fc87b470d44280c60f12ccd8f">CblMgrEventBusOff</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">//---------------------------------------------------------------------------------------------------</span></div>
<div class="line">   <span class="comment">// Todo: handle CAN bus-off condition</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="acbl__mgr_8h_html_ac0d6fb2fc87b470d44280c60f12ccd8f"><div class="ttname"><a href="cbl__mgr_8h.html#ac0d6fb2fc87b470d44280c60f12ccd8f">CblMgrEventBusOff</a></div><div class="ttdeci">void CblMgrEventBusOff(void)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aae133836790fed6fedd7ee07294b849a" name="aae133836790fed6fedd7ee07294b849a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae133836790fed6fedd7ee07294b849a">&#9670;&#160;</a></span>CblMgrEventProgControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CblMgrEventProgControl </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubProgNumV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubProgControlV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubProgNumV</td><td>Program number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubProgControlV</td><td>Program control value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Adopt this function to the application, a sample implementation is located in the file <code>cbl_user.c</code>.</dd></dl>
<p>This function is called upon writing a value greater or equal to 80<sub>h</sub> (<a class="el" href="cbl__mgr_8h.html#a7ba20f7b72e9b926775e4c3335d7221aa80268583c07a5f7bb7be2107df2a89ce">eCBL_PROG_CONTROL_MANUFACTURER</a>) to object 1F51<sub>h</sub> (program control). The behaviour of the program control operation is manufacturer specific. </p>
<p>The parameter <em>ubProgNumV</em> denotes the program number, the start value of the program number is 0. The value corresponds to the sub-index of object 1F51<sub>h</sub>, i.e. sub-index 1 is program number 0. </p>
<p>A sample implementation is located in the file <code>cbl_user.c</code>  </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="cbl__mgr_8h.html#aae133836790fed6fedd7ee07294b849a">CblMgrEventProgControl</a>(uint8_t ubProgNumV, uint8_t ubProgControlV)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">//---------------------------------------------------------------------------------------------------</span></div>
<div class="line">   <span class="comment">// Todo: handle manufacturer specific action</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line">   <span class="keywordflow">switch</span>(ubProgControlV)</div>
<div class="line">   {</div>
<div class="line">      <span class="keywordflow">case</span> eCBL_PROG_CONTROL_APP_VALID:</div>
<div class="line">      </div>
<div class="line">         <span class="keywordflow">break</span>;</div>
<div class="line">         </div>
<div class="line">      <span class="keywordflow">case</span> eCBL_PROG_CONTROL_APP_NOT_VALID:</div>
<div class="line">      </div>
<div class="line">         <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">default</span>:</div>
<div class="line">         </div>
<div class="line">         <span class="keywordflow">break</span>;</div>
<div class="line">   }</div>
<div class="line">   </div>
<div class="line">   <span class="comment">//---------------------------------------------------------------------------------------------------</span></div>
<div class="line">   <span class="comment">// set the program control register to a defined value, e.g. eCBL_PROG_CONTROL_STOP</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line">   <a class="code hl_variable" href="cbl__objs_8h.html#a24a3d5205384df8ddd5fe40f03ddf0e6">aubIdx1F51_ControlG</a>[ubProgNumV] = <a class="code hl_enumvalue" href="cbl__mgr_8h.html#a7ba20f7b72e9b926775e4c3335d7221aa860fa04c2ff049a0deab17cbbbf487ee">eCBL_PROG_CONTROL_STOP</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="acbl__mgr_8h_html_a7ba20f7b72e9b926775e4c3335d7221aa860fa04c2ff049a0deab17cbbbf487ee"><div class="ttname"><a href="cbl__mgr_8h.html#a7ba20f7b72e9b926775e4c3335d7221aa860fa04c2ff049a0deab17cbbbf487ee">eCBL_PROG_CONTROL_STOP</a></div><div class="ttdeci">@ eCBL_PROG_CONTROL_STOP</div><div class="ttdef"><b>Definition:</b> cbl_mgr.h:127</div></div>
<div class="ttc" id="acbl__mgr_8h_html_aae133836790fed6fedd7ee07294b849a"><div class="ttname"><a href="cbl__mgr_8h.html#aae133836790fed6fedd7ee07294b849a">CblMgrEventProgControl</a></div><div class="ttdeci">void CblMgrEventProgControl(uint8_t ubProgNumV, uint8_t ubProgControlV)</div></div>
<div class="ttc" id="acbl__objs_8h_html_a24a3d5205384df8ddd5fe40f03ddf0e6"><div class="ttname"><a href="cbl__objs_8h.html#a24a3d5205384df8ddd5fe40f03ddf0e6">aubIdx1F51_ControlG</a></div><div class="ttdeci">uint8_t aubIdx1F51_ControlG[]</div><div class="ttdoc">Program control - index 1F51:0xh</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9c927845b9e63bda4e267f311b54460" name="ab9c927845b9e63bda4e267f311b54460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9c927845b9e63bda4e267f311b54460">&#9670;&#160;</a></span>CblMgrFlashDelete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CblMgrFlashDelete </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubProgNumV</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubProgNumV</td><td>Program number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Adopt this function to the application, a sample implementation is located in the file <code>cbl_user.c</code>. Also refer to the <a class="el" href="cbl_flash_programming.html">Flash Programming</a> section for details.</dd></dl>
<p>This function erases the flash memory for the application. The parameter <em>ubProgNumV</em> denotes the program number, the start value of the program number is 0. The value corresponds to the sub-index of object 1F51<sub>h</sub>, i.e. sub-index 1 is program number 0. </p>

</div>
</div>
<a id="a5274f1da62f4601141b4fa924383aa5c" name="a5274f1da62f4601141b4fa924383aa5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5274f1da62f4601141b4fa924383aa5c">&#9670;&#160;</a></span>CblMgrFlashFinalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CblMgrFlashFinalize </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubProgNumV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ulSizeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubProgNumV</td><td>Program number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulSizeV</td><td>Number of bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Adopt this function to the application, a sample implementation is located in the file <code>cbl_user.c</code>. Also refer to the <a class="el" href="cbl_flash_programming.html">Flash Programming</a> section for details.</dd></dl>
<p>This function is called after all data has been transferred to the device. It is responsible to validate the stored data. The parameter <em>ulSizeV</em> defines the size of the application data. </p>
<p>The parameter <em>ubProgNumV</em> denotes the program number, the start value of the program number is 0. The value corresponds to the sub-index of object 1F50<sub>h</sub>, i.e. sub-index 1 is program number 0. </p>

</div>
</div>
<a id="ab725ac05ced137c741167fbfae4af0e3" name="ab725ac05ced137c741167fbfae4af0e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab725ac05ced137c741167fbfae4af0e3">&#9670;&#160;</a></span>CblMgrGetBitrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CblMgrGetBitrate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Value defined in <a class="el" href="canpie_8h.html#a1701ab116f6fb6d511dfc34e5115de2b" title="Fixed bit-rates.">CpBitrate_e</a> enumeration </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Adopt this function to the application, a sample implementation is located in the file <code>cbl_user.c</code>.</dd></dl>
<p>This routine returns the device bit-rate.  </p><div class="fragment"><div class="line">uint8_t <a class="code hl_function" href="cbl__mgr_8h.html#ab725ac05ced137c741167fbfae4af0e3">CblMgrGetBitrate</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">   uint8_t ubBitrateT = <a class="code hl_enumvalue" href="canpie_8h.html#a1701ab116f6fb6d511dfc34e5115de2ba76f1cb913600045e3dcc80455fc21487">eCP_BITRATE_500K</a>;</div>
<div class="line"> </div>
<div class="line">   <span class="comment">//---------------------------------------------------------------------------------------------------</span></div>
<div class="line">   <span class="comment">// read DIP switch settings here or value from NVM</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> (ubBitrateT);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="acanpie_8h_html_a1701ab116f6fb6d511dfc34e5115de2ba76f1cb913600045e3dcc80455fc21487"><div class="ttname"><a href="canpie_8h.html#a1701ab116f6fb6d511dfc34e5115de2ba76f1cb913600045e3dcc80455fc21487">eCP_BITRATE_500K</a></div><div class="ttdeci">@ eCP_BITRATE_500K</div><div class="ttdef"><b>Definition:</b> canpie.h:677</div></div>
<div class="ttc" id="acbl__mgr_8h_html_ab725ac05ced137c741167fbfae4af0e3"><div class="ttname"><a href="cbl__mgr_8h.html#ab725ac05ced137c741167fbfae4af0e3">CblMgrGetBitrate</a></div><div class="ttdeci">uint8_t CblMgrGetBitrate(void)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeafbd8fc3d74f192ff862e9dd3da1478" name="aeafbd8fc3d74f192ff862e9dd3da1478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeafbd8fc3d74f192ff862e9dd3da1478">&#9670;&#160;</a></span>CblMgrGetNodeId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CblMgrGetNodeId </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>node-ID </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Adopt this function to the application, a sample implementation is located in the file <code>cbl_user.c</code>.</dd></dl>
<p>This routine returns the node-ID of the device. The return value has to be in the range from 1 to 127.  </p><div class="fragment"><div class="line">uint8_t <a class="code hl_function" href="cbl__mgr_8h.html#aeafbd8fc3d74f192ff862e9dd3da1478">CblMgrGetNodeId</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">   uint8_t  ubNodeIdT = 126;</div>
<div class="line"> </div>
<div class="line">   <span class="comment">//---------------------------------------------------------------------------------------------------</span></div>
<div class="line">   <span class="comment">// read DIP switch settings here or value from NVM</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> (ubNodeIdT);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="acbl__mgr_8h_html_aeafbd8fc3d74f192ff862e9dd3da1478"><div class="ttname"><a href="cbl__mgr_8h.html#aeafbd8fc3d74f192ff862e9dd3da1478">CblMgrGetNodeId</a></div><div class="ttdeci">uint8_t CblMgrGetNodeId(void)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5dfcf93d3864cae7fb2aad8687dc4b84" name="a5dfcf93d3864cae7fb2aad8687dc4b84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dfcf93d3864cae7fb2aad8687dc4b84">&#9670;&#160;</a></span>CblMgrGetSerialNumber()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CblMgrGetSerialNumber </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Serial number </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Adopt this function to the application, a sample implementation is located in the file <code>cbl_user.c</code>.</dd></dl>
<p>This routine returns the serial number of the module, which must be a unique value for a product family. The serial number is used within in Identity Object (Index 1018:04<sub>h</sub>).  </p><div class="fragment"><div class="line">uint32_t <a class="code hl_function" href="cbl__mgr_8h.html#a5dfcf93d3864cae7fb2aad8687dc4b84">CblMgrGetSerialNumber</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">   uint32_t  ulSerNumT;</div>
<div class="line"> </div>
<div class="line">   <span class="comment">//---------------------------------------------------------------------------------------------------</span></div>
<div class="line">   <span class="comment">// read serial number from NVM</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line">   ulSerNumT = 1;</div>
<div class="line">   <span class="keywordflow">return</span>(ulSerNumT);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="acbl__mgr_8h_html_a5dfcf93d3864cae7fb2aad8687dc4b84"><div class="ttname"><a href="cbl__mgr_8h.html#a5dfcf93d3864cae7fb2aad8687dc4b84">CblMgrGetSerialNumber</a></div><div class="ttdeci">uint32_t CblMgrGetSerialNumber(void)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a967ae5e24c6d4b2679ed83f0d8f2ebf0" name="a967ae5e24c6d4b2679ed83f0d8f2ebf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a967ae5e24c6d4b2679ed83f0d8f2ebf0">&#9670;&#160;</a></span>CblMgrInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CblMgrInit </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubCanIfV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>uwConfigV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubCanIfV</td><td>Physical CAN interface </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uwConfigV</td><td>Initial configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code defined in <a class="el" href="cbl__defs_8h.html#afe882f9a2eec527a3de73fc76c03389c" title="Error Codes of protocol stack.">CblErr_e</a> enumeration</dd></dl>
<p>The CANopen (FD) Bootloader is initialised with <a class="el" href="cbl__mgr_8h.html#a967ae5e24c6d4b2679ed83f0d8f2ebf0">CblMgrInit()</a>. This routine will setup the CAN controller and initialise all necessary services. The support of services and their behaviour can be configured by setting the symbols inside the <a class="el" href="cbl__conf_8h.html#CBL_CONF">cbl_conf.h</a> configuration file. The parameter <em>ubCanIfV</em> defines the physical CAN interface, taken from the <a class="el" href="canpie_8h.html#a364ad643291389f2be3c52e7e0d5f0bf" title="Channel definition.">CpChannel_e</a> enumeration. The parameter <em>uwConfigV</em> is reserved and shall be set to 0. </p>
<p>Afterwards the stack can be started by calling the <a class="el" href="cbl__mgr_8h.html#a5e4e554e794bfa1342494e22ae4fcd14">CblMgrStart()</a> to start the CANopen (FD) Bootloader. </p>

</div>
</div>
<a id="a84282b2fa521a3d9898154970161f689" name="a84282b2fa521a3d9898154970161f689"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84282b2fa521a3d9898154970161f689">&#9670;&#160;</a></span>CblMgrProcess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CblMgrProcess </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Error code defined in <a class="el" href="cbl__defs_8h.html#afe882f9a2eec527a3de73fc76c03389c" title="Error Codes of protocol stack.">CblErr_e</a> enumeration</dd></dl>
<p>This function is responsible to handle all CAN messages and to execute the necessary operations (e.g. erase flash memory). It must be called within the main loop of the application. The function returns an error code defined by the <a class="el" href="cbl__defs_8h.html#afe882f9a2eec527a3de73fc76c03389c" title="Error Codes of protocol stack.">CblErr_e</a> enumeration. The return code <a class="el" href="cbl__defs_8h.html#afe882f9a2eec527a3de73fc76c03389ca36160e45822834a30db02b243481a6e3">eCblErr_NODE_RESET</a> requires a complete re-initialisation of the device, e.g. via a watchdog operation. </p>

</div>
</div>
<a id="a663ba6c1c37f87873c2415d21e2f0d5c" name="a663ba6c1c37f87873c2415d21e2f0d5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a663ba6c1c37f87873c2415d21e2f0d5c">&#9670;&#160;</a></span>CblMgrRelease()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CblMgrRelease </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Error code defined in <a class="el" href="cbl__defs_8h.html#afe882f9a2eec527a3de73fc76c03389c" title="Error Codes of protocol stack.">CblErr_e</a> enumeration</dd></dl>
<p>This routine stops the CANopen (FD) Bootloader protocol stack. The function returns <a class="el" href="cbl__defs_8h.html#afe882f9a2eec527a3de73fc76c03389caf4539019b6720b7fb2e058d27222ef63">eCblErr_OK</a> on success. </p>

</div>
</div>
<a id="a5e4e554e794bfa1342494e22ae4fcd14" name="a5e4e554e794bfa1342494e22ae4fcd14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e4e554e794bfa1342494e22ae4fcd14">&#9670;&#160;</a></span>CblMgrStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CblMgrStart </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubBitrateSelV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNodeIdV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubBitrateSelV</td><td>Nominal bit-rate value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNodeIdV</td><td>Device node-ID (NID) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code defined in <a class="el" href="cbl__defs_8h.html#afe882f9a2eec527a3de73fc76c03389c" title="Error Codes of protocol stack.">CblErr_e</a> enumeration</dd></dl>
<p>This routine starts the CANopen (FD) Bootloader protocol stack on the given node-ID defined by <em>ubNodeIdV</em> and bit-rate <em>ubBitrateSelV</em>. The initialisation routines from other CANopen services are called and the Boot-up message is sent. The function returns <a class="el" href="cbl__defs_8h.html#afe882f9a2eec527a3de73fc76c03389caf4539019b6720b7fb2e058d27222ef63">eCblErr_OK</a> on success. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_0e018381eb7c4da102caa59719c9118c.html">stack-cbl</a></li><li class="navelem"><a class="el" href="cbl__mgr_8h.html">cbl_mgr.h</a></li>
    <li class="footer"><a href="https://www.microcontrol.net">&copy; MicroControl GmbH &amp; Co. KG</a> Fri Jul 28 2023 </li>
  </ul>
</div>
</body>
</html>
